@use 'src/styles/media' as query;

.form {
	padding: 0 0 1.5rem 0;

	h1 {
		font-size: 1.4rem;
	}

	.wrapper {
		max-width: 1024px;
		display: grid;
		gap: 1rem;
		margin: 0 auto;

		grid-template-columns: 0.5fr 1fr 0.5fr;

		@include query.media('screen', '<breakpoint-lg-tablet') {
			grid-template-columns: 1fr;
		}

		.container {
			padding: 1rem 0.85rem;
			margin: 0rem 0.6rem;
			border: 1px solid #d1d5db;
			z-index: 1;
			border-radius: 1rem;
			background-color: var(--background);

			>h1 {
				text-transform: uppercase;
				text-align: center;
				margin-bottom: 1rem;
			}

			form {
				display: grid;
				gap: 1rem;

				>button {
					margin: 0 auto;
					background-color: #4ca237;
					font-weight: 700;
				}

				.options {
					position: relative;
					margin-top: 1rem;
					border-top: 1px solid var(--input-border);
					padding-top: 1rem;
				

					&>p {
						position: absolute;
						top: -0.6rem;
						left: calc(50% - 60px - 1rem);
						background-color: var(--background);
						padding: 0 0.5rem;
					
					}
				}

				.upsell {
					display: flex;
					border: 4px solid #4FB335;
					border-radius: 0.5rem;
					position: relative;
					padding: 1rem;
					cursor: pointer;
					margin-top: 1rem;

					&:hover {
						box-shadow: 0 0 0 1px #4FB335;
						
					}

					>label {
						display: flex;
						align-items: center;
						gap: 1rem;
						position: relative;
						width: 100%;


						>span {
							position: absolute;
							top: -1.4rem;
							left: -0.25rem;
							font-size: 12.5px;
							background-color: var(--background);
							color: var(--text-secondary);
							font-weight: 500;
							padding: 0 0.25rem;

						}

						.product {
							color: var(--text-secondary);
							font-size: 14px;

							>span {
								font-weight: 600;
							}
						}
					}
				}
			}
		}

		.price {
			margin: auto 0;
			text-transform: uppercase;

			@include query.media('screen', '<breakpoint-lg-tablet') {
				overflow: hidden;
			}

			.pointer_big {
				width: 100%;
				height: 80px;
				position: relative;
				background: var(--primary);
				padding: 1.5rem 0 1.5rem 3rem;
				font-weight: 700;
				color: white;
				font-size: 2rem;
				margin-left: 1.5rem;

				@include query.media('screen', '<breakpoint-lg-tablet') {
					margin-left: 0;
				}

				&:after {
					content: '';
					position: absolute;
					left: 0;
					bottom: 0;
					width: 0;
					height: 0;
					border-left: 40px solid white;
					border-top: 40px solid transparent;
					border-bottom: 40px solid transparent;
				}

				&:before {
					content: '';
					position: absolute;
					right: -40px;
					bottom: 0;
					width: 0;
					height: 0;
					border-left: 40px solid var(--primary);
					border-top: 40px solid transparent;
					border-bottom: 40px solid transparent;
				}
			}

			.discount {
				// color: var(--primary);;
				font-size: 1.25rem;
				text-align: center;
				margin-top: 1rem;
				font-weight: 700;
			}

			.pointer_small {
				width: 100%;
				height: 40px;
				position: relative;
				background: var(--primary);
				font-weight: 700;
				color: white;
				font-size: 1rem;
				padding: 0.75rem 0 0.75rem 2rem;
				margin-left: 1.6rem;
				margin-top: 1rem;

				@include query.media('screen', '<breakpoint-lg-tablet') {
					margin-left: 0;
				}

				&:after {
					content: '';
					position: absolute;
					left: 0;
					bottom: 0;
					width: 0;
					height: 0;
					border-left: 20px solid white;
					border-top: 20px solid transparent;
					border-bottom: 20px solid transparent;
				}

				&:before {
					content: '';
					position: absolute;
					right: -20px;
					bottom: 0;
					width: 0;
					height: 0;
					border-left: 20px solid var(--primary);
					border-top: 20px solid transparent;
					border-bottom: 20px solid transparent;
				}
			}
		}

		.image {
			margin: auto 0;
			text-align: center;
			display: grid;
			justify-content: center;

			.timer {
				margin-top: 1rem;
				font-size: 1.25rem;
			}

			img {
				margin: auto 0;
			}
		}

		.total {
			text-align: center;

			>h1 {
				font-weight: 400;

				>span {
					font-weight: 700;
				}
			}
		}

		.dostavafree {
			text-align: center;
		}
	}
}

.infoSection {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 3rem;
	border: 3px solid #d1e7dd;
	border-radius: 1.5rem;
	padding: 2rem 1rem;
	margin-bottom: 2rem;
	max-width: 80%;
	margin-left: auto;
	margin-right: auto;

	.infoItemGroup {
		display: contents;
	}

	@media (max-width: 700px) {
		flex-direction: column;
		gap: 1.5rem;
		padding: 1.5rem 0.5rem;
		max-width: 90%;
		margin-left: auto;
		margin-right: auto;
	}

	.infoItem {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 0.5rem;
		text-align: center;
		font-weight: 600;
		color: #2b2b2b;
		font-size: 20px;

		img {
			margin-bottom: 0.5rem;
			border-radius: 50%;
			border: 2px solid #d1e7dd;
			background: white;
			object-fit: cover;
			display: block;
		}
	}

	@media (max-width: 700px) {
		.infoItemGroup {
			display: flex;
			flex-direction: row;
			justify-content: center;
			gap: 1.5rem;
		}
		.infoItem {
			font-size: 16px;
		}
	}
}

.couponSection {
	margin-top: 1rem;
	border-top: 1px solid var(--input-border);
	padding-top: 1rem;

	.couponInput {
		display: flex;
		gap: 0.5rem;
		align-items: center;
		background-color: #f8f9fa;
		border: 1px solid #e9ecef;
		border-radius: 0.5rem;
		padding: 0.5rem;

		.couponField {
			flex: 1;
			padding: 0.75rem;
			border: 1px solid #ced4da;
			border-radius: 0.375rem;
			font-size: 0.875rem;
			background-color: white;
			color: #495057;

			&::placeholder {
				color: #6c757d;
			}

			&:focus {
				outline: none;
				border-color: #4ca237;
				box-shadow: 0 0 0 2px rgba(76, 162, 55, 0.2);
			}
		}

		.couponButton {
			padding: 0.75rem 1.5rem;
			background-color: #4ca237;
			color: white;
			border: none;
			border-radius: 0.375rem;
			font-weight: 600;
			font-size: 0.875rem;
			cursor: pointer;
			transition: background-color 0.2s;

			&:hover {
				background-color: #3d8b2e;
			}

			&:active {
				background-color: #2d6a1f;
			}
		}
	}

	.couponApplied {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-top: 0.75rem;
		padding: 0.75rem;
		background-color: #d4edda;
		border: 1px solid #c3e6cb;
		border-radius: 0.375rem;
		color: #155724;

		.couponMessage {
			display: flex;
			flex-direction: column;
			gap: 0.25rem;
			flex: 1;
			margin-right: 1rem;

			span {
				line-height: 1.3;
				font-size: 0.8rem;
			}
		}

		.removeCoupon {
			padding: 0.25rem 0.75rem;
			background-color: #dc3545;
			color: white;
			border: none;
			border-radius: 0.25rem;
			font-size: 0.75rem;
			cursor: pointer;
			transition: background-color 0.2s;
			white-space: nowrap;

			&:hover {
				background-color: #c82333;
			}
		}
	}
}